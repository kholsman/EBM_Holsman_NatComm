install.packages("drake")
main      <- getwd()
main
require(rfigshare)
url        <- "https://figshare.com/s/6dea7722df39e07d79f0"
dest_path  <- "/Users/kholsman/GitHub_new/EBM_Holsman_NatComm/EBM_ceattlenew.Rdata"
# Apply download.file function in R
download.file(url=url, destfile=dest_path,method="libcurl")
fs_author_search("Boettiger")
fs_author_search("Boettiger")
fs_author_search("Boettiger")
fs_author_search("Holsman")
main
main            <- getwd()
main
install.packages("rfigshare")
require(rfigshare)
fs_author_search("Boettiger")
fs_author_search("Boettiger")
id <- fs_create("Test title", "description of test")
require("rfigshare")
dir("data")
dir("data/in")
fldr_nm
fldr_nm         <-  "aclim_00_JunV2_2019"  # folder with the CEATTLE assessment runs
fs_details(id)
mine <- fs_browse()
mine[1:2]
mine
length(mine <- fs_browse()
mine[1:2])
length(mine)
mine[[1]]
mine[[2]]
fs_ids(mine)
citation("rfigshare")
dest_path
download.file(url="https://doi.org/10.6084/m9.figshare.11864571.v3",
destfile="/Users/kholsman/GitHub_new/EBM_Holsman_NatComm/test.Rdata",method="libcurl")
rmdfl = "README_Holsman_EBMpaper.Rmd"
## convert markdown doc to read me file for github
rmd2md <- function(rmd_fl = "README_Holsman_EBMpaper",md_fl = "README"){
library(rmarkdown)
render(paste0(rmdfl,".Rmd"), md_document(variant = "markdown_github"),params=F)
file.copy(from=paste0(rmdfl,".md"),to=paste0(".md"),overwrite=T)
}
getwd()
getdate()
date()
?date
format(Sys.time(), "%a %b %d %H:%M:%S %Y")
format(Sys.time(), "%b %d %H:%M:%S %Y")
format(Sys.time(), "%b %d %Y")
format(Sys.time(), "%b %d, %Y")
thisYr <- format(Sys.time(), "%Y")
today  <- format(Sys.time(), "%b %d, %Y")
thisYr
getwd()
# set your local path:
main  <-  path.expand("~/GitHub_new/EBM_Holsman_NatComm/")
setwd(main)
# load data, packages, setup, etc.
source("R/make.R")
update.figures
update.figures
update.figures
# set your local path:
main  <-  path.expand("~/GitHub_new/EBM_Holsman_NatComm/")
setwd(main)
# load data, packages, setup, etc.
source("R/make.R")
source("R/packages.R")       # loads packages
source("R/setup.R")          # load other switches and controls
main  <-  path.expand("~/GitHub_new/EBM_Holsman_NatComm/")
setwd(main)
# load data, packages, setup, etc.
source("R/make.R")
source("R/packages.R")       # loads packages
source("R/setup.R")          # load other switches and controls
# set your local path:
main  <-  path.expand("~/GitHub_new/EBM_Holsman_NatComm/")
setwd(main)
# load data, packages, setup, etc.
source("R/make.R")
source("R/make.R")
source("R/make.R")
outfn
# set your local path:
main  <-  path.expand("~/GitHub_new/EBM_Holsman_NatComm/")
setwd(main)
source("R/make.R")
out_dir
fn
fn
infn            <- c("covariates.Rdata",
"Biomass_thresholds.Rdata",
"Catch_thresholds.Rdata",
"0_5_3_nohcr_simulations.Rdata",
"multispp_cap_simulations.Rdata",
"multispp_nocap_simulations.Rdata",
"risk.Rdata")
infn
# set your local path:
main  <-  path.expand("~/GitHub_new/EBM_Holsman_NatComm/")
setwd(main)
source("R/make.R")
for(fn in infn){
if(!any(dir(in_dir)%in%fn))
stop(paste0(fn," file not found in: \t \t",out_dir,
"\n\nplease go to: https://figshare.com/s/6dea7722df39e07d79f0","",
"\n\nand download file into: \t \t",out_dir,"/",fn))
load(file.path(in_dir,fn))
}
fn
!any(dir(in_dir)%in%fn)
for(fn in infn){
if(!any(dir(in_dir)%in%fn))
stop(paste0(fn," file not found in: \t \t",in_dir,
"\n\nplease go to: https://figshare.com/s/6dea7722df39e07d79f0","",
"\n\nand download file into: \t \t",in_dir,"/",fn))
load(file.path(in_dir,fn))
}
cat("analysis data loaded ('data/out')...")
cat(paste("\n",fn))
for(fn in infn){
if(!any(dir(in_dir)%in%fn))
stop(paste0(fn," file not found in: \t \t",in_dir,
"\n\nplease go to: https://figshare.com/s/6dea7722df39e07d79f0","",
"\n\nand download file into: \t \t",in_dir,"/",fn))
load(file.path(in_dir,fn))
cat(paste("\n",fn," loaded"))
}
cat("analysis data loaded ('data/out')...")
infn
load(file.path(in_dir,fn))
cat(paste("\n",fn," loaded"))
for(fn in infn){
if(!any(dir(in_dir)%in%fn))
stop(paste0(fn," file not found in: \t \t",in_dir,
"\n\nplease go to: https://figshare.com/s/6dea7722df39e07d79f0","",
"\n\nand download file into: \t \t",in_dir,"/",fn))
load(file.path(in_dir,fn))
cat(paste("\n",fn,"loaded"))
}
infn
fn
(!any(dir(in_dir)%in%fn))
dir(in_dir)
infn            <- c("covariates.Rdata",
"0_5_3_nohcr_simulations.Rdata",
"multispp_cap_simulations.Rdata",
"multispp_nocap_simulations.Rdata")
outfn            <- c("Biomass_thresholds.Rdata",
"Catch_thresholds.Rdata",
"risk.Rdata")
for(fn in outfn){
if(!any(dir(out_dir)%in%fn))
stop(paste0(fn," file not found in: \t \t",out_dir,
"\n\nplease go to: https://figshare.com/s/6dea7722df39e07d79f0","",
"\n\nand download file into: \t \t",out_dir,"/",fn))
load(file.path(out_dir,fn))
cat(paste("\n",fn,"loaded"))
}
cat(paste("\nloaded:",fn))
# set your local path:
main  <-  path.expand("~/GitHub_new/EBM_Holsman_NatComm/")
setwd(main)
# load data, packages, setup, etc.
source("R/make.R")
traceback()
# set your local path:
main  <-  path.expand("~/GitHub_new/EBM_Holsman_NatComm/")
setwd(main)
# load data, packages, setup, etc.
source("R/make.R")
infn
for(fn in infn){
if(!any(dir(in_dir)%in%fn))
stop(paste0(fn," file not found in: \t \t",in_dir,
"\n\nplease go to: https://figshare.com/s/6dea7722df39e07d79f0","",
"\n\nand download file into: \t \t",in_dir,"/",fn))
load(file.path(in_dir,fn))
cat(paste("\nloaded",fn))
}
# set your local path:
main  <-  path.expand("~/GitHub_new/EBM_Holsman_NatComm/")
setwd(main)
# load data, packages, setup, etc.
source("R/make.R")
source("R/make.R")
source("R/make.R")
source("R/make.R")
# set your local path:
main  <-  path.expand("~/GitHub_new/EBM_Holsman_NatComm/")
setwd(main)
# load data, packages, setup, etc.
source("R/make.R")
source("R/sub_scripts/make_plots.R")
update.figures
update.figs
source("R/sub_scripts/make_plots.R")
# set your local path:
main  <-  path.expand("~/GitHub_new/EBM_Holsman_NatComm/")
setwd(main)
# load data, packages, setup, etc.
source("R/make.R")
print(paste("\n\n update.figs  = ",update.figs,"\n"))
print(paste("\n\n update.outputs  = ",update.outputs,"\n"))
paste("\n\n update.figs  = ",update.figs,"\n")
print(cat(paste("\n\n update.figs  = ",update.figs,"\n")))
print(cat(paste("\n\n update.outputs  = ",update.outputs,"\n")))
cat(paste("\n\n update.figs  = ",update.figs,"\n"))
cat(paste("\n\n update.outputs  = ",update.outputs,"\n"))
source("R/sub_scripts/make_plots.R")
graphics.off()
graphics.off()
graphics.off()
cat(paste("\n\n update.figs  = ",update.figs,"\n"))
cat(paste("\n\n update.outputs  = ",update.outputs,"\n"))
# this will generate the paper figures without overwriting them
source("R/sub_scripts/make_plots.R")
# You can also call individual plots like this:
dev.new()
dev.new()
url<-"https://figshare.com/articles/Community_del15N_data_sets/1428571"
dest_path  <- "/Users/kholsman/GitHub_new/EBM_Holsman_NatComm/Reum_2015_JAE_del15N data .csv"
download.file(url=url, destfile=dest_path,method="libcurl")
url<-" https://ndownloader.figshare.com/files/2085547"
dest_path  <- "/Users/kholsman/GitHub_new/EBM_Holsman_NatComm/Reum_2015_JAE_del15N data .csv"
download.file(url=url, destfile=dest_path)
url<-"https://figshare.com/articles/Community_del15N_data_sets/2085547"
url<-"https://figshare.com/articles/Community_del15N_data_sets/2085547"
dest_path  <- "/Users/kholsman/GitHub_new/EBM_Holsman_NatComm/Reum_2015_JAE_del15N data .csv"
download.file(url=url, destfile=dest_path,method="libcurl")
library('rfigshare')
load('art_id.Rdata')
fs_auth()
fs_author_search("Holsman")
info <- data.frame(url =   "https://figshare.com/s/6dea7722df39e07d79f0",
name = sapply(details$files, '[[', 'name'), stringsAsFactors = FALSE)
info
?fs_details
fs_details()
details <- fs_details("10.6084/m9.figshare.11864505", mine = TRUE)
details
fs_details(id)
id <- fs_create("Test title", "description of test")
data(mtcars)
write.csv(mtcars, "mtcars.csv")
fs_upload(id, "mtcars.csv")
id
# create file
id <- fs_create("Test title2", "description of test")
data(mtcars)
write.csv(mtcars, "mtcars.csv")
fs_upload(id, "mtcars.csv")
#And we can add the category or categories we like,
fs_category_list()
fs_add_categories(id, c("Education", "Software Engineering"))
# publish privately:
fs_make_private(id)
fs_details(id)
# create file
id <- fs_create("Test title2", "description of test")
data(mtcars)
write.csv(mtcars, "mtcars.csv")
fs_upload(id, "mtcars.csv")
id
fs_author_search("Holsman")
require("rfigshare")
fs_author_search("Holsman")
fs_author_search("Boettiger")
