splist
cathead(catch)
head(catch)
head(tmp)
profile_attach<-function(atf=.2e6,plk=1.2e6,Pcod=.9e5,spIN="Flathead"){
profileIT <-seq(0,1e5,1e3)
tmp <- catch<- data.frame(Arrowtooth=atf, Pollock=plk, PCod=Pcod,spIN=profileIT)
for(i in 1:length(profileIT)){
eval(parse(text=paste0("tt <- catch_function(scenario=1, Arrowtooth=tmp$Arrowtooth[i], Pollock=tmp$Pollock[i], PCod=tmp$PCod[i],
",spIN,"=tmp$spIN[i])")))
catch$Arrowtooth[i]<-tt$Arrowtooth
catch$Pollock[i]   <-tt$Pollock
catch$PCod[i]      <-tt$PCod
eval(parse(text=paste0("catch$spIN[i]  <-tt$",spIN)))
}
tmp$type <- "ABC"
catch$type <- "Catch"
out <- rbind(tmp,catch)
return(out)
}
splist <- c("Flathead","Greenland", "Kamchatka",
"Northern", "Octopus", "OtherFlat", "OtherRock","Plaice", "POP","Rock",
"Rougheye", "Sablefish", "Sculpin", "Shark", "Shortraker", "Skate", "Squid", "Yellowfin")
Cprofile      <- profile_attach(spIN=splist[1])
Cprofile$spIN <- splist[1]
for(sIN in splist[-1]){
tt2      <- profile_attach(spIN=sIN)
tt2$spIN <- sIN
Cprofile <- rbind(Cprofile,tt2)
}
head(Cprofile)
tail(Cprofile)
splist <- c("Flathead","Greenland", "Kamchatka",
"Northern", "Octopus", "OtherFlat", "OtherRock","Plaice", "POP","Rock",
"Rougheye", "Sablefish", "Sculpin", "Shark", "Shortraker", "Skate", "Squid", "Yellowfin")
Cprofile      <- profile_attach(spIN=splist[1])
Cprofile$spIN <- splist[1]
for(sIN in splist[-1]){
print(sIN)
tt2      <- profile_attach(spIN=sIN)
tt2$spIN <- sIN
Cprofile <- rbind(Cprofile,tt2)
}
splist <- c("Flathead","Greenland", "Kamchatka",
"Northern", "Octopus", "OtherFlat", "OtherRock","Plaice", "POP","Rock",
"Rougheye", "Sablefish", "Sculpin", "Shark", "Shortraker", "Skate", "Squid", "Yellowfin")
Cprofile      <- profile_attach(spIN=splist[1])
library(reshape2)
names(Cprofile)[4]
names(Cprofile)[4]<-splist[1]
head(Cprofile)
melt(Cprofile)
Cprofile$scen = splist[1]
head(Cprofile)
Cprofile      <- profile_attach(spIN=splist[1])
names(Cprofile)[4]<-splist[1]
Cprofile<- melt(Cprofile)
Cprofile$scen      <- splist[1]
head(Cprofile)
for(sIN in splist[-1]){
print(sIN)
tt2      <- profile_attach(spIN=sIN)
names(tt2)[4] <- sIN
tt2      <- melt(tt2)
tt2$scen <- splist[1]
Cprofile <- rbind(Cprofile,tt2)
}
Cprofile      <- profile_attach(spIN=splist[1])
length(splist)
sIN<-Yellowfin
sIN<-"Yellowfin"
Cprofile      <- profile_attach(spIN=splist[18])
names(Cprofile)[4] <-splist[18]
plot(Cprofile$Yellowfin,Cprofile$Pollock)
2_1_3
head(dat_2_1_3)
tail(dat_2_1_3)
tail(dat_2_5_3%>%filter(scenario==1))
tail(dat_2_5_3%>%filter(scenario==1)
)
tail(dat_2_5_3%>%filter(Scenario==1,species==1)
)
2451390/1e6
tail(dat_2_5_3%>%filter(Scenario==1,species==2)
)
162876/1e6
tail(dat_2_5_3%>%filter(Scenario==1,species==3)
)
36933.8/1e6
profile_attach<-function(atf=36933.8,plk=2.45,Pcod=162876,spIN="Flathead"){
profileIT <-seq(0,1e5,1e3)
tmp <- catch<- data.frame(Arrowtooth=atf, Pollock=plk, PCod=Pcod,spIN=profileIT)
for(i in 1:length(profileIT)){
eval(parse(text=paste0("tt <- catch_function(scenario=1, Arrowtooth=tmp$Arrowtooth[i], Pollock=tmp$Pollock[i], PCod=tmp$PCod[i],
",spIN,"=tmp$spIN[i])")))
catch$Arrowtooth[i]<-tt$Arrowtooth
catch$Pollock[i]   <-tt$Pollock
catch$PCod[i]      <-tt$PCod
eval(parse(text=paste0("catch$spIN[i]  <-tt$",spIN)))
}
tmp$type <- "ABC"
catch$type <- "Catch"
out <- rbind(tmp,catch)
return(out)
}
splist <- c("Flathead","Greenland", "Kamchatka",
"Northern", "Octopus", "OtherFlat", "OtherRock","Plaice", "POP","Rock",
"Rougheye", "Sablefish", "Sculpin", "Shark", "Shortraker", "Skate", "Squid", "Yellowfin")
Cprofile      <- profile_attach(spIN=splist[1])
names(Cprofile)[4] <-splist[1]
plot(Cprofile$Yellowfin,Cprofile$Pollock)
Cprofile
plot(Cprofile$Flathead,Cprofile$Pollock)
plot(Pollock~Flathead,data=Cprofile%>%type=="Catch")
plot(Pollock~Flathead,data=Cprofile%>%filter(type=="Catch"))
profile_attach<-function(atf=36933.8,plk=2.45,Pcod=162876,spIN="Flathead"){
profileIT <-seq(0,3e6,1e4)
tmp <- catch<- data.frame(Arrowtooth=atf, Pollock=plk, PCod=Pcod,spIN=profileIT)
for(i in 1:length(profileIT)){
eval(parse(text=paste0("tt <- catch_function(scenario=1, Arrowtooth=tmp$Arrowtooth[i], Pollock=tmp$Pollock[i], PCod=tmp$PCod[i],
",spIN,"=tmp$spIN[i])")))
catch$Arrowtooth[i]<-tt$Arrowtooth
catch$Pollock[i]   <-tt$Pollock
catch$PCod[i]      <-tt$PCod
eval(parse(text=paste0("catch$spIN[i]  <-tt$",spIN)))
}
tmp$type <- "ABC"
catch$type <- "Catch"
out <- rbind(tmp,catch)
return(out)
}
splist <- c("Flathead","Greenland", "Kamchatka",
"Northern", "Octopus", "OtherFlat", "OtherRock","Plaice", "POP","Rock",
"Rougheye", "Sablefish", "Sculpin", "Shark", "Shortraker", "Skate", "Squid", "Yellowfin")
Cprofile      <- profile_attach(spIN=splist[1])
names(Cprofile)[4] <-splist[1]
plot(Pollock~Flathead,data=Cprofile%>%filter(type=="Catch"))
profileIT
profileIT/1e6
seq(0,3e6,1e4)/1e6
profile_attach<-function(  profileIT=seq(0,1e6,1e4),atf=36933.8,plk=2.45,Pcod=162876,spIN="Flathead"){
tmp <- catch<- data.frame(Arrowtooth=atf, Pollock=plk, PCod=Pcod,spIN=profileIT)
for(i in 1:length(profileIT)){
eval(parse(text=paste0("tt <- catch_function(scenario=1, Arrowtooth=tmp$Arrowtooth[i], Pollock=tmp$Pollock[i], PCod=tmp$PCod[i],
",spIN,"=tmp$spIN[i])")))
catch$Arrowtooth[i]<-tt$Arrowtooth
catch$Pollock[i]   <-tt$Pollock
catch$PCod[i]      <-tt$PCod
eval(parse(text=paste0("catch$spIN[i]  <-tt$",spIN)))
}
tmp$type <- "ABC"
catch$type <- "Catch"
out <- rbind(tmp,catch)
return(out)
}
splist <- c("Flathead","Greenland", "Kamchatka",
"Northern", "Octopus", "OtherFlat", "OtherRock","Plaice", "POP","Rock",
"Rougheye", "Sablefish", "Sculpin", "Shark", "Shortraker", "Skate", "Squid", "Yellowfin")
Cprofile      <- profile_attach(spIN=splist[1])
names(Cprofile)[4] <-splist[1]
plot(Pollock~Flathead,data=Cprofile%>%filter(type=="Catch"))
log(seq(0,1e6,1e4))
log(.1)
exp(seq(-2,14))
profile_attach<-function(  profileIT=exp(seq(-2,16)),atf=36933.8,plk=2.45,Pcod=162876,spIN="Flathead"){
tmp <- catch<- data.frame(Arrowtooth=atf, Pollock=plk, PCod=Pcod,spIN=profileIT)
for(i in 1:length(profileIT)){
eval(parse(text=paste0("tt <- catch_function(scenario=1, Arrowtooth=tmp$Arrowtooth[i], Pollock=tmp$Pollock[i], PCod=tmp$PCod[i],
",spIN,"=tmp$spIN[i])")))
catch$Arrowtooth[i]<-tt$Arrowtooth
catch$Pollock[i]   <-tt$Pollock
catch$PCod[i]      <-tt$PCod
eval(parse(text=paste0("catch$spIN[i]  <-tt$",spIN)))
}
tmp$type <- "ABC"
catch$type <- "Catch"
out <- rbind(tmp,catch)
return(out)
}
splist <- c("Flathead","Greenland", "Kamchatka",
"Northern", "Octopus", "OtherFlat", "OtherRock","Plaice", "POP","Rock",
"Rougheye", "Sablefish", "Sculpin", "Shark", "Shortraker", "Skate", "Squid", "Yellowfin")
Cprofile      <- profile_attach(spIN=splist[1])
names(Cprofile)[4] <-splist[1]
plot(Pollock~Flathead,data=Cprofile%>%filter(type=="Catch"))
exp(seq(-2,16,1))
profile_attach<-function(  profileIT=exp(seq(-2,16,1)),atf=36933.8,plk=2.45,Pcod=162876,spIN="Flathead"){
tmp <- catch<- data.frame(Arrowtooth=atf, Pollock=plk, PCod=Pcod,spIN=profileIT)
for(i in 1:length(profileIT)){
eval(parse(text=paste0("tt <- catch_function(scenario=1, Arrowtooth=tmp$Arrowtooth[i], Pollock=tmp$Pollock[i], PCod=tmp$PCod[i],
",spIN,"=tmp$spIN[i])")))
catch$Arrowtooth[i]<-tt$Arrowtooth
catch$Pollock[i]   <-tt$Pollock
catch$PCod[i]      <-tt$PCod
eval(parse(text=paste0("catch$spIN[i]  <-tt$",spIN)))
}
tmp$type <- "ABC"
catch$type <- "Catch"
out <- rbind(tmp,catch)
return(out)
}
splist <- c("Flathead","Greenland", "Kamchatka",
"Northern", "Octopus", "OtherFlat", "OtherRock","Plaice", "POP","Rock",
"Rougheye", "Sablefish", "Sculpin", "Shark", "Shortraker", "Skate", "Squid", "Yellowfin")
Cprofile      <- profile_attach(spIN=splist[1])
names(Cprofile)[4] <-splist[1]
plot(Pollock~Flathead,data=Cprofile%>%filter(type=="Catch"))
exp(seq(-2,16,.2))
exp(seq(-2,16,.4))
profile_attach<-function(  profileIT=exp(seq(-2,16,.4)),atf=36933.8,plk=2.45,Pcod=162876,spIN="Flathead"){
tmp <- catch<- data.frame(Arrowtooth=atf, Pollock=plk, PCod=Pcod,spIN=profileIT)
for(i in 1:length(profileIT)){
eval(parse(text=paste0("tt <- catch_function(scenario=1, Arrowtooth=tmp$Arrowtooth[i], Pollock=tmp$Pollock[i], PCod=tmp$PCod[i],
",spIN,"=tmp$spIN[i])")))
catch$Arrowtooth[i]<-tt$Arrowtooth
catch$Pollock[i]   <-tt$Pollock
catch$PCod[i]      <-tt$PCod
eval(parse(text=paste0("catch$spIN[i]  <-tt$",spIN)))
}
tmp$type <- "ABC"
catch$type <- "Catch"
out <- rbind(tmp,catch)
return(out)
}
splist <- c("Flathead","Greenland", "Kamchatka",
"Northern", "Octopus", "OtherFlat", "OtherRock","Plaice", "POP","Rock",
"Rougheye", "Sablefish", "Sculpin", "Shark", "Shortraker", "Skate", "Squid", "Yellowfin")
Cprofile      <- profile_attach(spIN=splist[1])
names(Cprofile)[4] <-splist[1]
plot(Pollock~Flathead,data=Cprofile%>%filter(type=="Catch"))
exp(seq(-.2,16,.4))
profile_attach<-function(  profileIT=seq(0,1e6,1e4),atf=36933.8,plk=2.45,Pcod=162876,spIN="Flathead"){
tmp <- catch<- data.frame(Arrowtooth=atf, Pollock=plk, PCod=Pcod,spIN=profileIT)
for(i in 1:length(profileIT)){
eval(parse(text=paste0("tt <- catch_function(scenario=1, Arrowtooth=tmp$Arrowtooth[i], Pollock=tmp$Pollock[i], PCod=tmp$PCod[i],
",spIN,"=tmp$spIN[i])")))
catch$Arrowtooth[i]<-tt$Arrowtooth
catch$Pollock[i]   <-tt$Pollock
catch$PCod[i]      <-tt$PCod
eval(parse(text=paste0("catch$spIN[i]  <-tt$",spIN)))
}
tmp$type <- "ABC"
catch$type <- "Catch"
out <- rbind(tmp,catch)
return(out)
}
splist <- c("Flathead","Greenland", "Kamchatka",
"Northern", "Octopus", "OtherFlat", "OtherRock","Plaice", "POP","Rock",
"Rougheye", "Sablefish", "Sculpin", "Shark", "Shortraker", "Skate", "Squid", "Yellowfin")
Cprofile      <- profile_attach(spIN=splist[1])
names(Cprofile)[4] <-splist[1]
plot(Pollock~Flathead,data=Cprofile%>%filter(type=="Catch"))
profile_attach<-function(  profileIT=seq(0,1e6,1e4),atf=36933.8,plk=.45,Pcod=162876,spIN="Flathead"){
tmp <- catch<- data.frame(Arrowtooth=atf, Pollock=plk, PCod=Pcod,spIN=profileIT)
for(i in 1:length(profileIT)){
eval(parse(text=paste0("tt <- catch_function(scenario=1, Arrowtooth=tmp$Arrowtooth[i], Pollock=tmp$Pollock[i], PCod=tmp$PCod[i],
",spIN,"=tmp$spIN[i])")))
catch$Arrowtooth[i]<-tt$Arrowtooth
catch$Pollock[i]   <-tt$Pollock
catch$PCod[i]      <-tt$PCod
eval(parse(text=paste0("catch$spIN[i]  <-tt$",spIN)))
}
tmp$type <- "ABC"
catch$type <- "Catch"
out <- rbind(tmp,catch)
return(out)
}
splist <- c("Flathead","Greenland", "Kamchatka",
"Northern", "Octopus", "OtherFlat", "OtherRock","Plaice", "POP","Rock",
"Rougheye", "Sablefish", "Sculpin", "Shark", "Shortraker", "Skate", "Squid", "Yellowfin")
Cprofile      <- profile_attach(spIN=splist[1])
names(Cprofile)[4] <-splist[1]
plot(Pollock~Flathead,data=Cprofile%>%filter(type=="Catch"))
profile_attach<-function(  profileIT=seq(0,1e6,1e4),atf=36933.8,plk=2.45e6,Pcod=162876,spIN="Flathead"){
tmp <- catch<- data.frame(Arrowtooth=atf, Pollock=plk, PCod=Pcod,spIN=profileIT)
for(i in 1:length(profileIT)){
eval(parse(text=paste0("tt <- catch_function(scenario=1, Arrowtooth=tmp$Arrowtooth[i], Pollock=tmp$Pollock[i], PCod=tmp$PCod[i],
",spIN,"=tmp$spIN[i])")))
catch$Arrowtooth[i]<-tt$Arrowtooth
catch$Pollock[i]   <-tt$Pollock
catch$PCod[i]      <-tt$PCod
eval(parse(text=paste0("catch$spIN[i]  <-tt$",spIN)))
}
tmp$type <- "ABC"
catch$type <- "Catch"
out <- rbind(tmp,catch)
return(out)
}
splist <- c("Flathead","Greenland", "Kamchatka",
"Northern", "Octopus", "OtherFlat", "OtherRock","Plaice", "POP","Rock",
"Rougheye", "Sablefish", "Sculpin", "Shark", "Shortraker", "Skate", "Squid", "Yellowfin")
Cprofile      <- profile_attach(spIN=splist[1])
names(Cprofile)[4] <-splist[1]
plot(Pollock~Flathead,data=Cprofile%>%filter(type=="Catch"))
?catchfunction
?catch_function
Cprofile      <- profile_attach(spIN=splist[18])
names(Cprofile)[4] <-splist[18]
plot(Pollock~Yellowfin,data=Cprofile%>%filter(type=="Catch"))
plot(Pollock~Yellowfin,data=Cprofile%>%filter(type=="Catch"),ylim=c(0,2.6e6))
Cprofile      <- profile_attach(spIN=splist[1])
names(Cprofile)[4] <-splist[1]
plot(PCod~Yellowfin,data=Cprofile%>%filter(type=="Catch"),ylim=c(0,2.6e6))
Cprofile      <- profile_attach(spIN=splist[18])
names(Cprofile)[4] <-splist[18]
plot(Pollock~Yellowfin,data=Cprofile%>%filter(type=="Catch"),ylim=c(0,2.6e6))
plot(PCod~Yellowfin,data=Cprofile%>%filter(type=="Catch"),ylim=c(0,2.6e6))
plot(PCod~Yellowfin,data=Cprofile%>%filter(type=="Catch"),ylim=c(0,2.6e4))
plot(PCod~Yellowfin,data=Cprofile%>%filter(type=="Catch"),ylim=c(0,2.6e5))
plot(PCod~Yellowfin,data=Cprofile%>%filter(type=="Catch"),ylim=c(0,2.6e5),type="l")
head(Cprofile)
profile_attach<-function(  profileIT=seq(0,1e6,1e4),atf=36933.8,plk=2.45e6,Pcod=162876,spIN="Flathead"){
tmp <- catch<- data.frame(Arrowtooth=atf, Pollock=plk, PCod=Pcod,spIN=profileIT)
for(i in 1:length(profileIT)){
eval(parse(text=paste0("tt <- catch_function(scenario=1, Arrowtooth=tmp$Arrowtooth[i], Pollock=tmp$Pollock[i], PCod=tmp$PCod[i],
",spIN,"=tmp$spIN[i])")))
catch$Arrowtooth[i]<-tt$Arrowtooth
catch$Pollock[i]   <-tt$Pollock
catch$PCod[i]      <-tt$PCod
eval(parse(text=paste0("catch$spIN[i]  <-tt$",spIN)))
}
tmp$type <- "ABC"
catch$type <- "Catch"
out <- rbind(tmp,catch)
out$scen <- spIN
return(out)
}
Cprofile      <- profile_attach(spIN=splist[1])
head(Cprofile)
Cprofile      <- profile_attach(spIN=splist[1])
for(sIN in splist[-1]){
print(sIN)
tt2      <- profile_attach(spIN=sIN)
Cprofile <- rbind(Cprofile,tt2)
}
sIN
tt2
tt2      <- profile_attach(spIN=sIN)
spIN=sIN
tmp <- catch<- data.frame(Arrowtooth=atf, Pollock=plk, PCod=Pcod,spIN=profileIT)
eval(parse(text=paste0("tt <- catch_function(scenario=1, Arrowtooth=tmp$Arrowtooth[i], Pollock=tmp$Pollock[i], PCod=tmp$PCod[i],
",spIN,"=tmp$spIN[i])")))
tt
for(i in 1:length(profileIT)){
eval(parse(text=paste0("tt <- catch_function(scenario=1, Arrowtooth=tmp$Arrowtooth[i], Pollock=tmp$Pollock[i], PCod=tmp$PCod[i],
",spIN,"=tmp$spIN[i])")))
catch$Arrowtooth[i]<-tt$Arrowtooth
catch$Pollock[i]   <-tt$Pollock
catch$PCod[i]      <-tt$PCod
eval(parse(text=paste0("catch$spIN[i]  <-tt$",spIN)))
}
i
tmp$type <- "ABC"
catch$type <- "Catch"
out <- rbind(tmp,catch)
out$scen <- spIN
out
profileIT
profileIT=seq(0,1e6,1e4)
tmp <- catch<- data.frame(Arrowtooth=atf, Pollock=plk, PCod=Pcod,spIN=profileIT)
for(i in 1:length(profileIT)){
eval(parse(text=paste0("tt <- catch_function(scenario=1, Arrowtooth=tmp$Arrowtooth[i], Pollock=tmp$Pollock[i], PCod=tmp$PCod[i],
",spIN,"=tmp$spIN[i])")))
catch$Arrowtooth[i]<-tt$Arrowtooth
catch$Pollock[i]   <-tt$Pollock
catch$PCod[i]      <-tt$PCod
eval(parse(text=paste0("catch$spIN[i]  <-tt$",spIN)))
}
i
eval(parse(text=paste0("tt <- catch_function(scenario=1, Arrowtooth=tmp$Arrowtooth[i], Pollock=tmp$Pollock[i], PCod=tmp$PCod[i],
",spIN,"=tmp$spIN[i])")))
tmp$spIN[i]
paste0("tt <- catch_function(scenario=1, Arrowtooth=tmp$Arrowtooth[i], Pollock=tmp$Pollock[i], PCod=tmp$PCod[i],
",spIN,"=tmp$spIN[i])"
)
tmp$spIN[i]
catch_function(scenario=1, Arrowtooth=tmp$Arrowtooth[i], Pollock=tmp$Pollock[i], PCod=tmp$PCod[i],Sablefish=tmp$spIN[i])
catch_function(scenario=1, Arrowtooth=tmp$Arrowtooth[i], Pollock=tmp$Pollock[i], PCod=tmp$PCod[i],Sablefish=920000*.9)
catch_function(scenario=1, Arrowtooth=tmp$Arrowtooth[i], Pollock=tmp$Pollock[i], PCod=tmp$PCod[i],Sablefish=920000*.95)
catch_function(scenario=1, Arrowtooth=tmp$Arrowtooth[i], Pollock=tmp$Pollock[i], PCod=tmp$PCod[i],Sablefish=920000*.98)
catch_function(scenario=1, Arrowtooth=tmp$Arrowtooth[i], Pollock=tmp$Pollock[i], PCod=tmp$PCod[i],Sablefish=920000*.99)
catch_function(scenario=1, Arrowtooth=tmp$Arrowtooth[i], Pollock=tmp$Pollock[i], PCod=tmp$PCod[i],Sablefish=920000*.999)
catch_function(scenario=1, Arrowtooth=tmp$Arrowtooth[i], Pollock=tmp$Pollock[i], PCod=tmp$PCod[i],Sablefish=920000*.997)
catch_function(scenario=1, Arrowtooth=tmp$Arrowtooth[i], Pollock=tmp$Pollock[i], PCod=tmp$PCod[i],Sablefish=920000*.995)
catch_function(scenario=1, Arrowtooth=tmp$Arrowtooth[i], Pollock=tmp$Pollock[i], PCod=tmp$PCod[i],Sablefish=920000)
tryCatch
?tryCatch
tryCatch({ eval(parse(text=paste0("tt <- catch_function(scenario=1, Arrowtooth=tmp$Arrowtooth[i], Pollock=tmp$Pollock[i], PCod=tmp$PCod[i],
",spIN,"=tmp$spIN[i])")))},finally = print("complete"))
tryCatch({ eval(parse(text=paste0("tt <- catch_function(scenario=1, Arrowtooth=tmp$Arrowtooth[i], Pollock=tmp$Pollock[i], PCod=tmp$PCod[i],
",spIN,"=tmp$spIN[i])")))}, error = function(e) e, finally = print("Hello"))
tt <- tryCatch({ eval(parse(text=paste0("catch_function(scenario=1, Arrowtooth=tmp$Arrowtooth[i], Pollock=tmp$Pollock[i], PCod=tmp$PCod[i],
",spIN,"=tmp$spIN[i])")))}, error = function(e) e, finally = print("Hello"))
tt
tryCatch({ eval(parse(text=paste0("tt <- catch_function(scenario=1, Arrowtooth=tmp$Arrowtooth[i], Pollock=tmp$Pollock[i], PCod=tmp$PCod[i],
",spIN,"=tmp$spIN[i])")))}, error = function(e) e, finally = print("Hello"))
tt
sub <- Cprofile%>%filter(type=="Catch")
sub
ggplot(data=sub) +
geom_line(data=sub,aes(x=spIN,y = Pollock,color=scen))
sub <- Cprofile%>%filter(type=="Catch",scen="POP")
sub <- Cprofile%>%filter(type=="Catch",scen=="POP")
ggplot(data=sub) +
geom_line(data=sub,aes(x=spIN,y = Pollock,color=scen))
ggplot(data=sub) +
geom_line(data=sub,aes(x=spIN,y = Pollock,color=scen))+
geom_point(data=sub,aes(x=spIN,y = Pollock,color=scen))
ggplot(data=sub) +
geom_line(data=sub,aes(x=spIN,y = Pollock,color=scen))+
geom_point(data=sub,aes(x=spIN,y = Pollock,color=scen))+ylim(0,2.6e6)
sub <- Cprofile%>%filter(type=="Catch")
ggplot(data=sub) +
geom_line(data=sub,aes(x=spIN,y = Pollock,color=scen))+
geom_point(data=sub,aes(x=spIN,y = Pollock,color=scen))+ylim(0,2.6e6)
ggplot(data=sub) +
geom_line(data=sub,aes(x=spIN,y = Pollock,color=scen))+ylim(0,2.6e6)
ggplot(data=sub) +
geom_line(data=sub,aes(x=spIN,y = PCod,color=scen))+ylim(0,2.6e6)
ggplot(data=sub) +
geom_line(data=sub,aes(x=spIN,y = PCod,color=scen))+ylim(0,2.6e5)
seq(0,1e6,1e4)
seq(0,1e6,1e4)
seq(0,1e6,1e4)/1e6
920000/1e6
profile_attach<-function(  profileIT=seq(0,.91e6,1e4),atf=36933.8,plk=2.45e6,Pcod=162876,spIN="Flathead"){
tmp <- catch<- data.frame(Arrowtooth=atf, Pollock=plk, PCod=Pcod,spIN=profileIT)
for(i in 1:length(profileIT)){
tryCatch({ eval(parse(text=paste0("tt <- catch_function(scenario=1, Arrowtooth=tmp$Arrowtooth[i], Pollock=tmp$Pollock[i], PCod=tmp$PCod[i],
",spIN,"=tmp$spIN[i])")))}, error = function(e) e, finally = print("Hello"))
catch$Arrowtooth[i]<-tt$Arrowtooth
catch$Pollock[i]   <-tt$Pollock
catch$PCod[i]      <-tt$PCod
eval(parse(text=paste0("catch$spIN[i]  <-tt$",spIN)))
}
tmp$type <- "ABC"
catch$type <- "Catch"
out <- rbind(tmp,catch)
out$scen <- spIN
return(out)
}
tt <- catch_function(scenario=1, Arrowtooth=tmp$Arrowtooth[i], Pollock=tmp$Pollock[i], PCod=tmp$PCod[i],Sablefish=tmp$spIN[i])
splist <- c("Flathead","Greenland", "Kamchatka",
"Northern", "Octopus", "OtherFlat", "OtherRock","Plaice", "POP","Rock",
"Rougheye", "Sablefish", "Sculpin", "Shark", "Shortraker", "Skate", "Squid", "Yellowfin")
Cprofile      <- profile_attach(spIN=splist[18])
profile_attach<-function(  profileIT=seq(0,.91e6,1e4),atf=36933.8,plk=2.45e6,Pcod=162876,spIN="Flathead"){
tmp <- catch<- data.frame(Arrowtooth=atf, Pollock=plk, PCod=Pcod,spIN=profileIT)
for(i in 1:length(profileIT)){
tryCatch({ eval(parse(text=paste0("tt <- catch_function(scenario=1, Arrowtooth=tmp$Arrowtooth[i], Pollock=tmp$Pollock[i], PCod=tmp$PCod[i],
",spIN,"=tmp$spIN[i])")))}, error = function(e) e, finally = NA)
catch$Arrowtooth[i]<-tt$Arrowtooth
catch$Pollock[i]   <-tt$Pollock
catch$PCod[i]      <-tt$PCod
eval(parse(text=paste0("catch$spIN[i]  <-tt$",spIN)))
}
tmp$type <- "ABC"
catch$type <- "Catch"
out <- rbind(tmp,catch)
out$scen <- spIN
return(out)
}
tt <- catch_function(scenario=1, Arrowtooth=tmp$Arrowtooth[i], Pollock=tmp$Pollock[i], PCod=tmp$PCod[i],Sablefish=tmp$spIN[i])
splist <- c("Flathead","Greenland", "Kamchatka",
"Northern", "Octopus", "OtherFlat", "OtherRock","Plaice", "POP","Rock",
"Rougheye", "Sablefish", "Sculpin", "Shark", "Shortraker", "Skate", "Squid", "Yellowfin")
Cprofile      <- profile_attach(spIN=splist[18])
names(Cprofile)[4] <-splist[18]
plot(Pollock~Yellowfin,data=Cprofile%>%filter(type=="Catch"),ylim=c(0,2.6e6))
plot(PCod~Yellowfin,data=Cprofile%>%filter(type=="Catch"),ylim=c(0,2.6e5),type="l")
Cprofile      <- profile_attach(spIN=splist[1])
for(sIN in splist[-1]){
print(sIN)
tt2      <- profile_attach(spIN=sIN)
Cprofile <- rbind(Cprofile,tt2)
}
sub <- Cprofile%>%filter(type=="Catch")
ggplot(data=sub) +
geom_line(data=sub,aes(x=spIN,y = Pollock,color=scen))+ylim(0,2.6e6) + theme_minimal()
ggplot(data=sub) +
geom_line(data=sub,aes(x=spIN,y = PCod,color=scen))+ylim(0,2.6e5)+ theme_minimal()
ggplot(data=sub) +
geom_line(data=sub,aes(x=spIN,y = Arrowtooth,color=scen))+ylim(0,2.6e4)+ theme_minimal()
ggplot(data=sub) +
geom_line(data=sub,aes(x=spIN,y = PCod,color=scen))+ylim(0,2.6e5)+ theme_minimal()
ggplot(data=sub) +
geom_line(data=sub,aes(x=log(spIN),y = PCod,color=scen))+ylim(0,2.6e5)+ theme_minimal()
ggplot(data=sub) +
geom_line(data=sub,aes(x=log(spIN),,y = Pollock,color=scen))+ylim(0,2.6e6) + theme_minimal()
ggplot(data=sub) +
geom_line(data=sub,aes(x=log(spIN),,y = Pollock,color=scen,lty=scen))+ylim(0,2.6e6) + theme_minimal()
as.numeric(sub$scen)
sub$scen
as.numeric(factor(sub$scen))
as.numeric(factor(sub$scen))/3
round(as.numeric(factor(sub$scen))/3)
round(as.numeric(factor(sub$scen))/3)+1
round(as.numeric(factor(sub$scen))/4)+1
ggplot(data=sub) +
geom_line(data=sub,aes(x=log(spIN),y = Pollock,color=scen,lty=round(as.numeric(factor(sub$scen))/4)+1),size=.7)+ylim(0,2.6e6) + theme_minimal()
sub$ltyy<- round(as.numeric(factor(sub$scen))/4)+1
sub$ltyy<- factor(round(as.numeric(factor(sub$scen))/4)+1)
ggplot(data=sub) +
geom_line(data=sub,aes(x=log(spIN),y = Pollock,color=scen,lty=ltyy),size=.7)+ylim(0,2.6e6) + theme_minimal()
ggplot(data=sub) +
geom_line(data=sub,aes(x=log(spIN),y = Pollock,color=scen),size=.7)+ylim(0,2.6e6) + theme_minimal()
graphics.off()
main  <-  getwd()
setwd(main)
# load data, packages, setup, etc.
source("R/make.R")
main
